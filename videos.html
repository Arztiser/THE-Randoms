<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="theme-color" content="#E82B38" />
  <meta name="description" content="THE Randoms Is A Website That Lets You View And Do Random Things Such As Random Quizzes, Facts, Quotes, Numbers, And Letters." />
  <title>Videos - THE Randoms</title>
  <link rel="icon" type="image/png" href="./img/pfp.png" />
  <link rel="stylesheet" href="https://therandoms.pages.dev/css/styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Jersey+10:wght@100;300;400;500;700;900&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Jersey 10', sans-serif;
      font-size: 30px;
      margin: 0;
      padding: 0;
    }

    .topnav {
      overflow: hidden;
      background-color: #333;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px;
      height: 60px;
    }

    .topnav h1 {
      margin: 0;
      font-size: 24px;
      color: #f2f2f2;
    }

    .topnav .menu-icon {
      display: block;
      font-size: 30px;
      color: #f2f2f2;
      cursor: pointer;
      margin-left: auto;
    }

    .topnav-right {
      display: none;
      position: fixed;
      top: 60px;
      right: 0;
      background-color: #333;
      width: 100%;
      height: 100vh;
      flex-direction: column;
      justify-content: flex-start;
      z-index: 999;
      overflow-y: auto;
    }

    .topnav.active .topnav-right {
      display: flex;
    }

    body.menu-open {
      overflow: hidden;
    }

    .accordion-toggle {
      background: none;
      color: #f2f2f2;
      padding: 14px;
      text-align: left;
      font-size: 24px;
      border: none;
      outline: none;
      cursor: pointer;
      width: 100%;
      font-family: 'Jersey 10', sans-serif;
    }

    .accordion-content {
      display: none;
      flex-direction: column;
      background-color: #444;
    }

    .accordion-content a {
      padding-left: 28px;
      padding-top: 10px;
      padding-bottom: 10px;
      border-top: 1px solid #555;
      font-size: 20px;
      color: #f2f2f2;
      text-decoration: none;
    }

    .accordion-section {
      display: flex;
      flex-direction: column;
      border-top: 1px solid #444;
    }

    .accordion-section.open .accordion-content {
      display: flex;
    }

    .topnav a:hover {
      background-color: #ddd;
      color: black;
    }

    .topnav a.active {
      background-color: #E82B38;
      color: white;
    }

    .logo {
      color: inherit;
      text-decoration: none;
    }

    .container {
      margin: 20px;
      text-align: center;
    }

    #video-container {
      display: flex;
      justify-content: center;
      margin-top: 20px;
    }

    #generate-button {
      margin-top: 15px;
      padding: 8px 16px;
      font-size: 16px;
      background-color: #E82B38;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    #generate-button:hover {
      background-color: #d12530;
    }
  </style>
</head>

<body>
  <header>
    <div class="topnav">
      <h1><a href="index.html" class="logo">THE Randoms</a></h1>
      <span class="menu-icon" onclick="toggleMenu()">&#9776;</span>

      <div class="topnav-right">
        <div class="accordion-section">
          <button class="accordion-toggle">Jokes & Fun</button>
          <div class="accordion-content">
            <a href="jokes.html">Jokes</a>
            <a href="memes.html">Memes</a>
            <a href="nfl.html">NFL</a>
            <a href="quizzes.html">Quizzes</a>
          </div>
        </div>

        <div class="accordion-section">
          <button class="accordion-toggle">Knowledge & Facts</button>
          <div class="accordion-content">
            <a href="advice.html">Advice</a>
            <a href="facts.html">Facts</a>
            <a href="people.html">People</a>
          </div>
        </div>

        <div class="accordion-section">
          <button class="accordion-toggle">Music & Videos</button>
          <div class="accordion-content">
            <a href="songs.html">Songs</a>
            <a href="videos.html" class="active">Videos</a>
          </div>
        </div>

        <div class="accordion-section">
          <button class="accordion-toggle">Words, Letters & Numbers</button>
          <div class="accordion-content">
            <a href="letters.html">Letters</a>
            <a href="numbers.html">Numbers</a>
            <a href="words.html">Words</a>
          </div>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <h1>Random Video</h1>
    <button id="generate-button">Generate Video</button>
    <div id="video-container"></div>
  </div>

  <script>
    function toggleMenu() {
      const topnav = document.querySelector('.topnav');
      const body = document.body;
      topnav.classList.toggle('active');
      body.classList.toggle('menu-open');
    }

    document.querySelectorAll('.accordion-toggle').forEach(toggle => {
      toggle.addEventListener('click', () => {
        const parent = toggle.parentElement;
        document.querySelectorAll('.accordion-section').forEach(section => {
          if (section !== parent) {
            section.classList.remove('open');
          }
        });
        parent.classList.toggle('open');
      });
    });

    const apiKey = 'AIzaSyA7B_YMNe5T-rrVRuEbcZKcY9w50EWCeVk'; // Replace with your YouTube API key
    const queries = ["funny", "football", "memes", "sports", "cooking", "technology", "news", "baseball", "horror", "video games", "reviews", "random", "reaction", "cartoon", "space", "history", "science", "gaming", "humor", "animations", "basketball", "baseball", "chess", "sandbox", "facts", "south park", "family guy", "the simpsons", "american dad", "futurama", "hockey", "games", "religion", "math", "ai", "coding", "minecraft", "stardew valley", "terraria", "danganronpa", "ace attorney", "devlog", "reaction", "college football"];

    let lastRequestTime = 0;
    let videoCaches = {};

    function getRandomYouTubeVideo() {
      const currentTime = Date.now();

      if (currentTime - lastRequestTime < 5000) {
        alert('Nuh Uh, Not Getting Away With That! Just Wait A Couple Of Seconds.');
        return;
      }

      lastRequestTime = currentTime;

      const randomQuery = queries[Math.floor(Math.random() * queries.length)];

      if (!videoCaches[randomQuery] || videoCaches[randomQuery].length === 0) {
        fetchVideos(randomQuery);
      } else {
        displayRandomVideo(randomQuery);
      }
    }

    function fetchVideos(query) {
      fetch(`https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=50&q=${query}&key=${apiKey}&type=video`)
        .then(response => response.json())
        .then(data => {
          if (data.items && data.items.length > 0) {
            videoCaches[query] = data.items.map(item => item.id.videoId);
            displayRandomVideo(query);
          } else {
            document.getElementById('video-container').innerHTML = '<p>No videos found.</p>';
          }
        })
        .catch(error => {
          console.error('Error fetching YouTube data:', error);
          document.getElementById('video-container').innerHTML = '<p>Error loading video. Please try again later.</p>';
        });
    }

    function displayRandomVideo(query) {
      const randomIndex = Math.floor(Math.random() * videoCaches[query].length);
      const videoId = videoCaches[query][randomIndex];
      videoCaches[query].splice(randomIndex, 1);
      const videoUrl = `https://www.youtube.com/embed/${videoId}`;
      document.getElementById('video-container').innerHTML = `
        <iframe width="560" height="315" src="${videoUrl}" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      `;
    }

    window.onload = getRandomYouTubeVideo;
    document.getElementById('generate-button').addEventListener('click', getRandomYouTubeVideo);
  </script>
</body>
</html>