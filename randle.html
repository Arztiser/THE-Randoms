<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Randle - Random Wordle Clone</title>
<style>
  body { font-family: 'Jersey 10', sans-serif; text-align:center; margin:20px; background:#fff; color:#000; }
  .row { display:flex; justify-content:center; margin-bottom:10px; }
  .cell { width:50px; height:50px; border:2px solid #ccc; display:flex; align-items:center; justify-content:center; font-size:32px; margin:2px; }
  .green { background-color:#6aaa64; color:white; border-color:#6aaa64; }
  .yellow { background-color:#c9b458; color:white; border-color:#c9b458; }
  .gray { background-color:#787c7e; color:white; border-color:#787c7e; }
  .keyboard { display:flex; justify-content:center; flex-wrap:wrap; margin-top:20px; }
  .key { width:50px; height:50px; margin:2px; font-size:28px; cursor:pointer; display:flex; align-items:center; justify-content:center; border:1px solid #333; border-radius:4px; background:#eee; }
  .key:hover { background:#ddd; }
  h1, p { margin:0 0 10px; }
</style>
</head>
<body>

<h1>Randle - Random Wordle Clone</h1>
<p id="day-label"></p>
<div id="board"></div>
<div class="keyboard" id="keyboard"></div>
<p id="message"></p>

<script>
// ----- Config -----
const maxGuesses = 6;
const sequenceLength = 5;

const days = [
  { name:'Sunday', type:'letters', chars:'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('') },
  { name:'Monday', type:'emojis', chars:['ğŸ˜€','ğŸ˜‚','ğŸ¥°','ğŸ˜','ğŸ¤¯','ğŸ¶','ğŸ','âš½ï¸','ğŸŒŸ','ğŸ•','ğŸ€','ğŸŒˆ','ğŸ”¥','ğŸ’','ğŸ‰','ğŸµ','ğŸ”','ğŸ¥³','ğŸ’€','ğŸ±','ğŸŒ¹','ğŸŒ™','â˜€ï¸','â­','âš¡','ğŸ¥‘'] },
  { name:'Tuesday', type:'numbers', chars:['0','1','2','3','4','5','6','7','8','9'] },
  { name:'Wednesday', type:'symbols', chars:['!','@','#','$','%','^','&','*','(',')','-','+','=','~','`','|','/','?','<','>','[',']','{','}',';'] },
  { name:'Thursday', type:'letters', chars:'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('') },
  { name:'Friday', type:'emojis', chars:['ğŸ˜€','ğŸ˜‚','ğŸ¥°','ğŸ˜','ğŸ¤¯','ğŸ¶','ğŸ','âš½ï¸','ğŸŒŸ','ğŸ•','ğŸ€','ğŸŒˆ','ğŸ”¥','ğŸ’','ğŸ‰','ğŸµ','ğŸ”','ğŸ¥³','ğŸ’€','ğŸ±','ğŸŒ¹','ğŸŒ™','â˜€ï¸','â­','âš¡','ğŸ¥‘'] },
  { name:'Saturday', type:'numbers', chars:['0','1','2','3','4','5','6','7','8','9'] }
];

// ----- State -----
let currentGuess = [];
let currentRow = 0;
let target = [];
let todayIndex = new Date().getDay();
let today = days[todayIndex];
document.getElementById('day-label').textContent = `Today is ${today.name} - ${today.type.toUpperCase()} day`;

// ----- Generate target -----
target = Array.from({length:sequenceLength},()=>today.chars[Math.floor(Math.random()*today.chars.length)]);
console.log("Target sequence:", target.join(''));

// ----- Create board -----
const board = document.getElementById('board');
for(let i=0;i<maxGuesses;i++){
  const row = document.createElement('div');
  row.className='row';
  for(let j=0;j<sequenceLength;j++){
    const cell = document.createElement('div');
    cell.className='cell';
    row.appendChild(cell);
  }
  board.appendChild(row);
}

// ----- Create keyboard -----
const keyboardContainer = document.getElementById('keyboard');
function renderKeyboard(){
  keyboardContainer.innerHTML='';
  today.chars.forEach(c=>{
    const key = document.createElement('div');
    key.className='key';
    key.textContent=c;
    key.addEventListener('click',()=>addChar(c));
    keyboardContainer.appendChild(key);
  });
}
renderKeyboard();

// ----- Game logic -----
function addChar(c){
  if(currentGuess.length < sequenceLength){
    currentGuess.push(c);
    updateBoard();
    if(currentGuess.length===sequenceLength) checkGuess();
  }
}

function updateBoard(){
  const row = board.children[currentRow];
  for(let i=0;i<sequenceLength;i++){
    row.children[i].textContent = currentGuess[i] || '';
  }
}

function checkGuess(){
  const row = board.children[currentRow];
  const guess = currentGuess.slice();
  const feedback = Array(sequenceLength).fill('gray');

  // Greens
  for(let i=0;i<sequenceLength;i++){
    if(guess[i]===target[i]) feedback[i]='green';
  }
  // Yellows
  for(let i=0;i<sequenceLength;i++){
    if(feedback[i]==='gray' && target.includes(guess[i])) feedback[i]='yellow';
  }
  // Apply classes
  for(let i=0;i<sequenceLength;i++){
    row.children[i].classList.add(feedback[i]);
  }

  if(feedback.every(f=>f==='green')){
    document.getElementById('message').textContent='ğŸ‰ You guessed it!';
  } else {
    currentRow++;
    if(currentRow>=maxGuesses){
      document.getElementById('message').textContent='âŒ Out of tries! Answer: ' + target.join('');
    }
    currentGuess=[];
  }
}

// Optional: Keyboard input via actual keyboard
document.addEventListener('keydown',(e)=>{
  if(currentRow>=maxGuesses) return;
  const key = e.key.toUpperCase();
  if(today.chars.includes(key)){
    addChar(key);
  }
});
</script>

</body>
</html>
