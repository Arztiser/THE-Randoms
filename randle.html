<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Randle - Daily Random Word Game</title>
<style>
  body { font-family: 'Jersey 10', sans-serif; background:#f9f9f9; text-align:center; padding:20px;}
  h1 { color:#E82B38;}
  #grid { display:grid; grid-template-columns: repeat(5, 50px); grid-gap:5px; justify-content:center; margin:20px auto;}
  .cell { width:50px; height:50px; line-height:50px; font-size:24px; border:2px solid #333; text-transform:uppercase; }
  .correct { background:green; color:white; }
  .present { background:gold; color:black; }
  .absent { background:#ccc; color:white; }
  #keyboard { margin-top:20px; }
  button.key { margin:2px; padding:10px 12px; font-size:18px; cursor:pointer; }
</style>
</head>
<body>

<h1>Randle</h1>
<p>Guess the 5-letter word related to randomness!</p>

<div id="grid"></div>
<div id="keyboard"></div>
<p id="message"></p>

<script>
const WORD_LENGTH = 5;
const MAX_GUESSES = 6;
const wordList = ["CHAOS","LUCKY","SHIFT","ODDLY","JUMPS","FLUXS","RANDOM","MIXED","TWIST","FREAK","SPINS","SCRAM"];

let guesses = [];
let currentGuess = "";
let gameOver = false;

// -- Daily Seed Word
function getDaySeed(){
  const now = new Date();
  const localMidnight = new Date(now.getFullYear(), now.getMonth(), now.getDate());
  return Math.floor(localMidnight.getTime() / (1000*60*60*24));
}
function getDailyWord(){
  const seed = getDaySeed();
  return wordList[seed % wordList.length].toUpperCase();
}

// -- Infinite random word generator
function generateRandomWord(){
  const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
  let word = "";
  for(let i=0;i<WORD_LENGTH;i++){
    word += letters[Math.floor(Math.random()*letters.length)];
  }
  return word;
}

// -- Word to guess (daily or infinite)
const useDailyWord = true; // set false for infinite play
const targetWord = useDailyWord ? getDailyWord() : generateRandomWord();

const grid = document.getElementById('grid');
const message = document.getElementById('message');

// -- Create grid
for(let i=0;i<WORD_LENGTH*MAX_GUESSES;i++){
  const cell = document.createElement('div');
  cell.className = 'cell';
  grid.appendChild(cell);
}

// -- Update grid
function updateGrid(){
  for(let r=0;r<MAX_GUESSES;r++){
    for(let c=0;c<WORD_LENGTH;c++){
      const cell = grid.children[r*WORD_LENGTH + c];
      cell.textContent = guesses[r]?.[c] || (r===guesses.length ? currentGuess[c] || "" : "");
      if(guesses[r]){
        if(guesses[r][c] === targetWord[c]) cell.className='cell correct';
        else if(targetWord.includes(guesses[r][c])) cell.className='cell present';
        else cell.className='cell absent';
      } else cell.className='cell';
    }
  }
}

// -- Keyboard
const keyboard = document.getElementById('keyboard');
const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split('');
letters.forEach(l=>{
  const key = document.createElement('button');
  key.className='key';
  key.textContent=l;
  key.onclick = ()=> handleInput(l);
  keyboard.appendChild(key);
});
const enterKey = document.createElement('button');
enterKey.textContent='ENTER';
enterKey.className='key';
enterKey.onclick = ()=> handleInput('ENTER');
keyboard.appendChild(enterKey);
const backKey = document.createElement('button');
backKey.textContent='‚å´';
backKey.className='key';
backKey.onclick = ()=> handleInput('BACK');
keyboard.appendChild(backKey);

// -- Handle input
function handleInput(letter){
  if(gameOver) return;
  if(letter==='BACK'){
    currentGuess = currentGuess.slice(0,-1);
  } else if(letter==='ENTER'){
    if(currentGuess.length !== WORD_LENGTH) { message.textContent='Word too short!'; return; }
    guesses.push(currentGuess);
    updateGrid();
    if(currentGuess === targetWord){
      message.textContent='üéâ Correct! You guessed it!';
      gameOver=true;
    } else if(guesses.length === MAX_GUESSES){
      message.textContent=`‚ùå Game over! Word was ${targetWord}`;
      gameOver=true;
    }
    currentGuess="";
    return;
  } else if(currentGuess.length<WORD_LENGTH){
    currentGuess += letter;
  }
  updateGrid();
}

updateGrid();
</script>

</body>
</html>
