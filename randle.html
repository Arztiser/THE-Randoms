<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<meta name="theme-color" content="#E82B38" />
<title>Randle — THE Randoms</title>
<link href="https://fonts.googleapis.com/css2?family=Jersey+10:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
<style>
/* --- Topnav and Page Layout --- */
html, body {
  height: 100%;
  margin: 0;
  overflow-x: hidden;
}

body {
  --theme-bg-color: #333;
  --theme-topnav-color: #f2f2f2;
  --theme-accent-color: #E82B38;
  font-family: 'Jersey 10', sans-serif;
  font-size: 28px;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  background-color: #fff;
  color: #000;
}

main.content {
  flex: 1 0 auto;
  padding: 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  overflow-y: hidden;
  box-sizing: border-box;
  text-align: center;
}

/* Topnav */
.topnav {
  overflow: hidden;
  background-color: var(--theme-bg-color);
  color: var(--theme-topnav-color);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
  height: 80px; /* slightly taller for your preference */
}

.topnav h1 {
  margin: 0;
  font-size: 28px;
  color: var(--theme-topnav-color);
  display: flex;
  align-items: center;
}

.topnav .logo {
  color: var(--theme-topnav-color);
  text-decoration: none;
}

.menu-icon {
  font-size: 36px;
  color: var(--theme-topnav-color);
  cursor: pointer;
  user-select: none;
}

.topnav-right {
  display: none;
  position: fixed;
  top: 80px;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--theme-bg-color);
  overflow-y: auto;
  flex-direction: column;
  z-index: 999;
  transition: opacity 0.3s ease;
  opacity: 0;
  pointer-events: none;
  padding-bottom: 80px;
  box-sizing: border-box;
}

.topnav-right.active {
  display: flex;
  opacity: 1;
  pointer-events: auto;
}

body.menu-open {
  overflow: hidden;
}

.accordion-section {
  display: flex;
  flex-direction: column;
  border-top: 1px solid rgba(255,255,255,0.15);
}

.accordion-toggle {
  background: none;
  color: var(--theme-topnav-color);
  padding: 14px;
  text-align: left;
  font-size: 24px;
  border: none;
  outline: none;
  cursor: pointer;
  width: 100%;
  font-family: 'Jersey 10', sans-serif;
}

.accordion-section.open .accordion-content {
  display: flex;
}

.accordion-content {
  display: none;
  flex-direction: column;
  background-color: var(--theme-bg-color);
  overflow-y: auto;
  max-height: 50vh;
}

.accordion-content a {
  padding-left: 28px;
  padding-top: 10px;
  padding-bottom: 10px;
  border-top: 1px solid rgba(255,255,255,0.2);
  font-size: 20px;
  color: var(--theme-topnav-color);
  text-decoration: none;
}

.clickable-section {
  background-color: var(--theme-accent-color);
  color: white;
  font-weight: 700;
  font-size: 24px;
  padding: 14px;
  cursor: pointer;
  user-select: none;
  border-bottom: 1px solid #b22731;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 4px;
}

.clickable-section:hover {
  background-color: #c52430;
}

/* --- Puzzle Board --- */
h2 { margin: 20px 0; font-size: 40px; }
#board { display: grid; grid-template-rows: repeat(6, 1fr); gap: 6px; margin-top: 6px; }
.row { display: flex; gap: 6px; justify-content: center; }
.cell {
  width: 56px; height: 56px; display: flex; align-items: center; justify-content: center;
  border: 2px solid #bdbdbd; font-size: 28px; border-radius: 6px;
  font-family:'Jersey 10','Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji',sans-serif;
  word-break: keep-all;
}
.cell.correct{background:#6aaa64;border:none;color:#fff;}
.cell.present{background:#c9b458;border:none;color:#fff;}
.cell.wrong{background:#787c7e;border:none;color:#fff;}

#keyboard {
  width: 100%; max-width: 640px;
  display: flex; flex-wrap: wrap; justify-content: center; gap: 8px;
  margin-top: 12px;
}
.key {
  min-width: 42px; padding: 8px 10px; border-radius: 6px;
  background:#e6e6e6; text-align: center; cursor: pointer; user-select: none;
  font-size: 18px;
}
.key.enter, .key.backspace { background: var(--theme-accent-color); color: #fff; min-width: 92px; }
.key.key-correct { background: #6aaa64; color: #fff; }
.key.key-present { background: #c9b458; color: #fff; }
.key.key-wrong { background: #787c7e; color: #fff; }

#answer-display { margin-top: 12px; font-weight: 700; text-align: center; }
</style>
</head>
<body>

<header class="topnav">
  <h1><a class="logo" href="/">THE Randoms</a></h1>
  <span class="menu-icon" onclick="toggleMenu()">&#9776;</span>
  <div class="topnav-right">
    <div class="accordion-section">
      <button class="accordion-toggle">Jokes & Fun</button>
      <div class="accordion-content" hidden>
        <a href="jokes.html">Jokes</a>
        <a href="memes.html">Memes</a>
        <a href="nfl.html">NFL</a>
        <a href="quizzes.html">Quizzes</a>
        <a href="wouldyourather.html">Would You Rather</a>
      </div>
    </div>
    <div class="accordion-section">
      <button class="accordion-toggle">Knowledge & Facts</button>
      <div class="accordion-content" hidden>
        <a href="advice.html">Advice</a>
        <a href="facts.html">Facts</a>
        <a href="pages.html">Pages</a>
        <a href="people.html">People</a>
        <a href="quotes.html">Quotes</a>
      </div>
    </div>
    <div class="accordion-section">
      <button class="accordion-toggle">Music & Videos</button>
      <div class="accordion-content" hidden>
        <a href="songs.html">Songs</a>
        <a href="videos.html">Videos</a>
      </div>
    </div>
    <div class="accordion-section">
      <button class="accordion-toggle">Words, Letters & Numbers</button>
      <div class="accordion-content" hidden>
        <a href="letters.html">Letters</a>
        <a href="numbers.html">Numbers</a>
        <a href="words.html">Words</a>
      </div>
    </div>
    <div class="clickable-section" onclick="location.href='randomsoftheday.html'">Randoms Of The Day</div>
  </div>
</header>

<main class="content">
  <h2>Randle</h2>
  <div id="board"></div>
  <div id="keyboard"></div>
  <div id="answer-display"></div>
</main>

<script>
/* --- Menu --- */
function toggleMenu(){
  const topnavRight = document.querySelector('.topnav-right');
  topnavRight.classList.toggle('active');
  document.body.classList.toggle('menu-open');
}
document.querySelectorAll('.accordion-toggle').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const parent = btn.parentElement;
    document.querySelectorAll('.accordion-section').forEach(s=>{
      if(s!==parent) s.classList.remove('open');
    });
    parent.classList.toggle('open');
    const content = parent.querySelector('.accordion-content');
    if(content) content.hidden = !parent.classList.contains('open');
  });
});

/* --- Game Logic --- */
const MODE_BY_DAY=['letters','emojis','numbers','symbols','letters','emojis','numbers'];
const mode = MODE_BY_DAY[new Date().getDay()] || 'letters';

const KEYSETS={
  letters:"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),
  numbers:"0123456789".split(""),
  symbols:["!","@","#","$","%","^","&","*","(",")","-","_","+","=","{","}","[","]","<",">","/","|","~","`"],
  emojis:["😀","😎","🥳","🤖","👻","🐶","🐱","🐭","🦊","🐰","🍎","🍌","🍇","🍓","🍒","⚽","🏀","🏈","⚾","🎾","🚗","🚕","🚙","🚌","🚓"]
};

function splitChars(s){return Array.from(s.matchAll(/\p{Emoji_Presentation}|\p{Emoji}\uFE0F|./gu), m=>m[0]);}
function getDaySeed(){ const now = new Date(); return Math.floor(new Date(now.getFullYear(), now.getMonth(), now.getDate()).getTime()/(1000*60*60*24)); }
function deterministicPick(arr, offset){ return arr[(getDaySeed()+offset)%arr.length]; }
function makePuzzleForMode(m){ let out=''; for(let i=0;i<5;i++) out+=deterministicPick(KEYSETS[m],i); return out; }

let answer=makePuzzleForMode(mode),answerChars=splitChars(answer);
let rows=6,currentRow=0,currentGuess='',gameOver=false;
const boardEl=document.getElementById('board'),keyboardEl=document.getElementById('keyboard'),answerDisplay=document.getElementById('answer-display');

function buildBoard(){
  boardEl.innerHTML='';
  for(let r=0;r<rows;r++){
    const row=document.createElement('div'); row.className='row';
    for(let c=0;c<5;c++){ const cell=document.createElement('div'); cell.className='cell'; row.appendChild(cell);}
    boardEl.appendChild(row);
  }
}

function buildKeyboard(){
  keyboardEl.innerHTML='';
  KEYSETS[mode].forEach(k=>{
    const key=document.createElement('div'); key.className='key'; key.textContent=k;
    key.onclick=()=>onKeyPress(k); keyboardEl.appendChild(key);
  });
  const enter=document.createElement('div'); enter.className='key enter'; enter.textContent='Enter'; enter.onclick=submitGuess; keyboardEl.appendChild(enter);
  const back=document.createElement('div'); back.className='key backspace'; back.textContent='⌫'; back.onclick=onBackspace; keyboardEl.appendChild(back);
}

function renderCurrentGuess(){
  const row=boardEl.children[currentRow],chars=splitChars(currentGuess);
  for(let i=0;i<5;i++){
    const cell=row.children[i];
    cell.textContent=chars[i]||'';
    cell.classList.remove('correct','present','wrong');
  }
}

function onKeyPress(k){
  if(gameOver) return;
  const chars = splitChars(currentGuess);
  if(chars.length>=5) return;
  currentGuess += k;
  renderCurrentGuess();
}

function onBackspace(){
  if(gameOver) return;
  const arr = splitChars(currentGuess);
  arr.pop();
  currentGuess = arr.join('');
  renderCurrentGuess();
}

function submitGuess(){
  if(gameOver) return;
  const guessChars = splitChars(currentGuess);
  if(guessChars.length!==5) return;
  const counts={}; answerChars.forEach(ch=>counts[ch]=(counts[ch]||0)+1);
  const result=Array(5).fill('wrong');
  for(let i=0;i<5;i++){if(guessChars[i]===answerChars[i]){result[i]='correct';counts[guessChars[i]]--;}}
  for(let i=0;i<5;i++){if(result[i]==='correct') continue; const g=guessChars[i]; if(counts[g]>0){result[i]='present';counts[g]--;}}
  const row=boardEl.children[currentRow];
  for(let i=0;i<5;i++){row.children[i].textContent=guessChars[i]; row.children[i].classList.add(result[i]);}
  guessChars.forEach((ch,idx)=>{
    const el=[...keyboardEl.querySelectorAll('.key')].find(k=>k.textContent===ch);
    if(el){el.classList.add('key-'+result[idx]);}
  });
  if(guessChars.join('')===answerChars.join('')){answerDisplay.textContent='Correct! Answer: '+answer; gameOver=true; return;}
  currentRow++; currentGuess='';
  if(currentRow>=rows){answerDisplay.textContent='Game over — answer: '+answer; gameOver=true;}
}

document.addEventListener('keydown', e=>{
  if(gameOver||mode==='emojis') return;
  if(e.key==='Enter'){submitGuess(); return;}
  if(e.key==='Backspace'){onBackspace(); return;}
  if(mode==='letters'&&/^[a-z]$/i.test(e.key)) onKeyPress(e.key.toUpperCase());
  else if(mode==='numbers'&&/[0-9]/.test(e.key)) onKeyPress(e.key);
  else if(mode==='symbols'&&KEYSETS.symbols.includes(e.key)) onKeyPress(e.key);
});

buildBoard(); buildKeyboard();
</script>
<script src="holiday-theme.js" defer></script>
</body>
</html>
